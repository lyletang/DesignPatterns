# 命令模式

命令设计模式帮助我们将一个操作（撤销、重做、复制、粘贴等）封装成一个对象。简而言之，这意味着创建一个类，包含我们实现该操作所需要的所有逻辑和方法。这样做有如下优势：

- 我们并不需要直接执行一个命令。命令可以按照希望执行。
- 调用命令的对象与知道如何执行命令的对象解耦。调用者无需知道命令的任何实现细节。
- 如果有意义，可以把多个命令组织起来，这样调用能够按顺序执行它们。例如，在实现一个多层撤销命令时，这是很有用的。

执行一个命令就像在餐馆里点单。每个顾客的订单都是一个独立的命令，分多个阶段，最终由厨师来执行。

许多GUI框架，包括PyQt，使用命令模式来建模动作，动作可被一个或多个事件触发，也可以自定义。然而，命令模式并不仅限于在框架中使用，普通应用（比如git-cola）也会因其获益。

虽然至今命令模式最广为人知的特性是撤销操作，但他还有更多用处。一般而言，要在运行时按照用户意愿执行的任何操作都适合使用命令模式。命令模式也适合用于组合多个命令。这有助于实现宏、多级撤销以及事务。一个事务应该：要么成功，这意味着事务中所有操作应该都成功（提交操作）；要么如果至少一个操作失败，则全部失败（回滚操作）。